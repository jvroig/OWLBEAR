ACTIONS:
- PROMPT:
    id: polished_output_beginning
    expert: "{{expert}}"
    inputs:
      - "Let's create a polished output together."
      - "Instructions: {{instruction}}"
      - "First, I need you to create an initial draft based on these instructions."
    output: initial_draft

- PROMPT:
    expert: "{{expert}}"
    inputs:
      - "Now, let's review the initial draft you created:"
      - initial_draft
      - "{{another_data}}"
      - "Please suggest improvements to make this draft better."
    output: suggested_improvements

- PROMPT:
    expert: "{{expert}}"
    inputs:
      - "Based on the initial draft and your suggestions, let's create a final revised version."
      - "Initial draft:"
      - initial_draft
      - "Suggested improvements:"
      - suggested_improvements
      - "Additional context: {{and_another}}"
      - "Please create a polished final version incorporating all improvements."
    output: final_version

- DECIDE:
    expert: "{{expert}}"
    inputs:
      - "Please evaluate the quality of this final output:"
      - final_version
      - "Is this polished output of high quality and fully addresses the original instructions? Respond with TRUE if it meets all requirements, or FALSE if we should iterate again with specific feedback."
    output: quality_evaluation
    loopback_target: polished_output_beginning
    loop_limit: 3
